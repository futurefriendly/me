<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no" media="(device-height: 568px)" />
    <title>积分商城</title>

    <style type="text/css">
    body {
        margin: 0;
        padding: 0;
    }
    img {
        width: 100%;
        display: block;
    }
    .contant {
        width: 100%;
        overflow: hidden;
    }
    .main {
        height: 32px;
    }
    .main div {
        float: left;
        height: 32px;
    }
    .main .one {
        background: url("http://static.diditaxi.com.cn/activity/img-mall/halloween/Halloween02.png") no-repeat;
        background-size: 100%;
        width: 50%;
    }
    .main .two {
        background: url("http://static.diditaxi.com.cn/activity/img-mall/halloween/Halloween03.png") no-repeat;
        background-size: 100%;
        width: 50%;
    }
    .footer {
        margin-top: -1px;
    }
    </style>
</head>

<body>
    <div class="contant">
        <div class="header">
            <img src="http://static.diditaxi.com.cn/activity/img-mall/halloween/Halloween01.png">
        </div>
        <div class="main">
            <div class="one"></div>
            <div class="two"></div>
        </div>
        <div class="footer">
            <img src="http://static.diditaxi.com.cn/activity/img-mall/halloween/Halloween05.png">
        </div>
    </div>
    <script>
    addEventListener("load", function() {
        //设置按钮的相对高度
        var _document = document,
            screenHeight = window.screen.height,
            dv_main = _document.querySelector(".main"),
            dv_main_dv = _document.querySelectorAll(".main div"),
            dv_leftBtn = _document.querySelector(".one"),
            dv_rightBtn = _document.querySelector(".two"),
            btnHeight = 0;

        btnHeight = screenHeight * 0.055 + "px";
        dv_main.style.height = btnHeight;
        [].forEach.call(dv_main_dv, function(item) {
            item.style.height = btnHeight;
        });

        //get url params
        function getQueryString(name) {
            var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)", "i");
            var r = window.location.search.substr(1).match(reg);
            if (r != null) return r[2];
            return "";
        }

        function returnUrl(id) {
            var _url = 'http://diditaxi.com.cn/imall/detail?id=' + id + '&token=' + getQueryString("token") + '&lat=' + getQueryString("lat") + '&lng=' + getQueryString("lng");
            return _url;
        }

        dv_main.addEventListener("touchend", function(event) {
            event.preventDefault();
            var className = event.target.className;
            if (className == "one") location.href = returnUrl(153);
            if (className == "two") location.href = returnUrl(154);
        }, false);

    }, false);
    </script>
</body>

</html>
