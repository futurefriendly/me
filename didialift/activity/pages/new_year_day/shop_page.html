<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no" media="(device-height: 568px)" />
    <title>积分商城</title>

    <style type="text/css">
    * {
        margin: 0px;
        padding: 0px;
    }
    img {
        width: 100%;
        display: block;
    }
    .content {
        width: 100%;
        overflow: hidden;
        background: #ffffff;
    }
    .main {
        margin: 2px auto 0 auto;
        width: 99.56%;
    }
    .item {
        float: left;
        width: 49.9999%;
        overflow: hidden;
        ;
    }
    .item div {
        width: 100%;
        display: inline-block;
    }
    .item>.item {
        height: 50%;
    }
    .line {
        width: 100%;
    }
    .line img {
        display: block;
    }
    </style>
</head>

<body>
    <div class="content">
        <div class="line" itemid="">
            <img src="../../img-mall/new_year_day/shop/shop_01.png" />
        </div>
        <div class="main">
            <div class="item" itemid="607">
                <img src="../../img-mall/new_year_day/shop/shop_02.png" />
            </div>
            <div class="item">
                <div class="item" itemid="606">
                    <img src="../../img-mall/new_year_day/shop/shop_03.png" />
                </div>
                <div class="item" itemid="605">
                    <img src="../../img-mall/new_year_day/shop/shop_04.png" />
                </div>
            </div>
            <div class="item" itemid="552">
                <img src="../../img-mall/new_year_day/shop/shop_05.png" />
            </div>
            <div class="item" itemid="634">
                <img src="../../img-mall/new_year_day/shop/shop_06.png" />
            </div>
            <div class="item">
                <div class="item" itemid="637">
                    <img src="../../img-mall/new_year_day/shop/shop_07.png" />
                </div>
                <div class="item" itemid="554">
                    <img src="../../img-mall/new_year_day/shop/shop_08.png" />
                </div>
            </div>
            <div class="item" itemid="575">
                <img src="../../img-mall/new_year_day/shop/shop_09.png" />
            </div>
            <div class="item" itemid="622">
                <img src="../../img-mall/new_year_day/shop/shop_10.png" />
            </div>
            <div class="item" itemid="625">
                <img src="../../img-mall/new_year_day/shop/shop_11.png" />
            </div>
        </div>
        <div class="line" itemid="">
            <img src="../../img-mall/new_year_day/shop/shop_12.png" />
        </div>
    </div>
    <script type="text/javascript" src="http://static.diditaxi.com.cn/activity/lib/didi.jbase.js"></script>
    <script>
    addEventListener("load", function() {
        //设置按钮的相对高度
        var _document = document,
            screenHeight = window.screen.height,
            dv_main = _document.querySelector(".content");

        //get url params
        function getQueryString(name) {
            var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)", "i");
            var r = window.location.search.substr(1).match(reg);
            if (r != null) return r[2];
            return "";
        }

        function returnUrl(id) {
            var _url = 'http://diditaxi.com.cn/imall/detail?id=' + id + '&token=' + getQueryString("token") + '&lat=' + getQueryString("lat") + '&lng=' + getQueryString("lng");
            return _url;
        }

        function autoHeight() {
            var mainEl = document.querySelectorAll(".main")[0];
            var children = mainEl.children;
            var height = children[0].clientHeight + "px";
            for (var i = children.length - 1; i >= 0; i--) {
                children[i].style.height = height;
            };
        }

        touch(dv_main, function(event) {
            if (event.target.className == "item" || event.target.parentNode.className == "item") {
                var _target = event.target.nodeName == "DIV" ? event.target : event.target.parentNode;
                var _itemid = _target.getAttribute("itemid");
                if (_itemid) {
                    location.href = returnUrl(_itemid);
                }
            }
        }, false);

        autoHeight();

    }, false);
    </script>
</body>

</html>
