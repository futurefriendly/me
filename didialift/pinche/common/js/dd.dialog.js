!function(t){var e=t.dd||{};if(e.dialog)return e.dialog;e.dialog={};var i=document.documentElement,n=null,o=null,l=null,c={isArray:function(t){return Array.isArray(t)},insertDom:function(t){document.body.appendChild(t)},genDom:function(t,e,i){if(t)if("[object Object]"===Object.prototype.toString.call(t,null)){t.type=t.type||"loading",e.style.cssText=t.wallCss,i.style.cssText=t.wrapCss;var n="<div class='"+t.type+"'>";n+=this.genIcon(t.icon),n+=this.genTitle(t.title),n+=this.genTip(t),n+=this.genButtons(t.btns,t.ext)+"</div>",n+=this.genClose(t.close),i.innerHTML=n}else"[object String]"===Object.prototype.toString.call(t,null)?i.innerHTML=t:"[object HTMLDivElement]"===Object.prototype.toString.call(t,null)&&(t.style.display="inline-block",i.appendChild(t))},genIcon:function(t){if(!t)return"";var e=t.width||"8px",i=t.height||"36px",n=t.url||"http://static.xiaojukeji.com/pinche/common/images/i-plaint.png",o=t.cssText||"",l="<img src="+n+' style="width:'+e+";height:"+i+";vertical-align:middle;"+o+'"/>';return'<p class="icon">'+l+"</p>"},genTitle:function(t){t=t||{};var e=t.cssText||"";return'<p class="title" style="'+e+'">'+(t.txt||"")+"</p>"},genTip:function(t){var e=t.tip||{},i=t.title||{};i.txt?(e.color=e.color||"#666",e.size=e.size||"1.4rem"):(e.color=e.color||"#333",e.size=e.size||"1.6rem");var n="color:"+e.color+";font-size:"+e.size+";";return e.txt?'<div class="tip" style="'+n+'">'+e.txt+"</div>":""},genClose:function(t){return t?'<a class="close" href="javascript:void(0);"></a>':""},genButtons:function(t,e){var i="";if(t&&this.isArray(t)){i+='<div class="btns clearfix">';for(var n=0,o=null,l=t.length;l>n;n++)o=t[n],i+='<a class="'+o.kls+'" id="'+o.id+'">'+o.val+"</a>";i+="</div>"}return e&&"string"==typeof e&&(i+=e),i},addEvents:function(t){if(t.close){var e=o.getElementsByClassName("close")[0];e.addEventListener("touchstart",function(){l.hide()},!1)}if(this.isArray(t.btns)&&t.btns.length)for(var i=0,n=null,c=t.btns.length;c>i;i++)if(n=t.btns[i]){var s=n.event||"click",a=document.getElementById(n.id);a&&(a.removeEventListener(s,n.handler,!1),a.addEventListener(s,n.handler,!1))}}},s=function(t){return this instanceof s?(new s.fn.init(t),void 0):l=new s(t)};s.fn=s.prototype={constructor:s,init:function(e){if(e){var i=document.createElement("div"),l=document.createElement("div");i.id="d-wall",l.id="d-wrap",c.genDom(e,i,l),n&&document.body.removeChild(n),o&&document.body.removeChild(o),c.insertDom(i),c.insertDom(l),n=i,o=l,"[object Object]"===Object.prototype.toString.call(e,null)&&t.setTimeout(function(){c.addEvents(e)},400)}},show:function(){function e(n){t.removeEventListener(n.type,e,!1),i.reset.call(i)}var i=this;n&&o&&(i.reset(),n.style.display="block",o.style.display="inline-block",t.addEventListener("resize",e,!1),t.addEventListener("scroll",e,!1))},hide:function(){n&&o&&(n.style.display="none",o.style.display="none")},reset:function(){if(n&&o){o.style.top=(i.clientHeight-o.clientHeight-20)/2+"px",o.style.left=(i.clientWidth-o.clientWidth)/2+"px";var t=document.body.scrollHeight||document.documentElement.scrollHeight;n.style.width=i.clientWidth+"px",n.style.height=t+"px"}}},e.dialog.alert=function(t){var e={};return"string"==typeof arguments[0]&&arguments[0]?(e.title=arguments[1]||"",e.tip=arguments[0],e.btn={val:arguments[2]||"我知道了"}):t&&"object"==typeof t&&(e=t),l=s({type:"alert",icon:e.icon||{url:"http://static.xiaojukeji.com/pinche/common/images/i-plaint.png",width:"8px",height:"36px"},wrapCss:"background: #fff;width: 280px;text-align: center;",title:{txt:e.title},tip:{txt:e.tip},btns:[{id:"btn-close",kls:"btn-orange",event:"click",val:e.btn&&e.btn.val||"我知道了",handler:function(t){l.hide(),"function"==typeof e.btn.handler&&e.btn.handler(t)}}]}),l.show(),l},e.dialog.confirm=function(t){var e={};"string"==typeof arguments[0]&&arguments[0]?(e.text=arguments[0]||"",e.confirm={},e.confirm.handler=arguments[1]):t&&"object"==typeof t&&(e=t);var i=e.cancel||{},n=e.confirm||{};return l=s({type:"confirm",tip:{txt:e.text},icon:e.icon||{url:"http://static.xiaojukeji.com/pinche/common/images/i-plaint.png",width:"8px",height:"36px"},wrapCss:"background: #fff;width: 280px;text-align: center;",btns:[{id:i.id||"btn-cancel",val:i.val||"取消",kls:i.kls||"btn-white",event:i.event||"click",handler:function(t){l.hide(),"function"==typeof i.handler&&i.handler(t)}},{id:n.id||"btn-ok",val:n.val||"确定",kls:n.kls||"btn-orange",event:n.event||"click",handler:function(t){l.hide(),"function"==typeof n.handler&&n.handler(t)}}],ext:e.ext}),l.show(),l},e.dialog.loading=function(e){var i={};return"object"!=typeof arguments[0]?(i.text=arguments[0],i.time=arguments[1]||0):i=e,l=s({type:"loading",wallCss:"",wrapCss:"background:#0c0d0d;opacity:0.7;width:140px;height:140px;",icon:e&&e.icon||{width:"30px",height:"30px",url:"http://static.xiaojukeji.com/pinche/common/images/loading_2.gif"},tip:{txt:i.text||"正在加载",color:"#fff",size:"14px"}}),l.show(),i.time||(i.time=5e3),t.setTimeout(function(){l.hide(),console.log("function"==typeof i.hideCB),"function"==typeof i.hideCB&&i.hideCB()},i.time),l},e.dialog.flatLoading=function(e){var i={};return"object"!=typeof arguments[0]?(i.text=arguments[0],i.time=arguments[1]||0):i=e,l=s({type:"loading",wallCss:"",wrapCss:"background:#fff;width:140px;height:140px;",icon:e&&e.icon||{width:"30px",height:"30px",url:"http://static.xiaojukeji.com/pinche/common/images/loading_2.gif"},tip:{txt:i.text||"",color:"#666",size:"14px"}}),l.show(),i.time||(i.time=5e3),t.setTimeout(function(){l.hide(),"function"==typeof i.hideCB&&i.hideCB()},i.time),l},e.dialog.logoLoading=function(t,e){return l=s('<div class="loading-car"><div class="bg"></div><div class="loading-car-icon"></div></div>'),l.show(),t||(t=5e3),setTimeout(function(){l.hide(),"function"==typeof e&&e()},t),l},e.dialog.tip=function(e){var i={};"object"!=typeof arguments[0]?(i.text=arguments[0],i.time=arguments[1]||0):i=e,i.time=parseInt(i.time)||600,l=s({type:"tip",wallCss:"",wrapCss:"background:#0c0d0d;width:140px;height:140px;opacity:0.7;",icon:i.icon||{url:"http://static.xiaojukeji.com/pinche/common/images/i-plaint.png",width:"8px",height:"36px"},tip:{txt:i.text||"温馨提醒",color:"#fff",size:"14px"}}),l.show(),t.setTimeout(function(){l.hide()},i.time)},e.dialog.Fn=s,t.dd=e}(window);